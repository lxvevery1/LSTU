# Из каких кубиков лего строится средства автоматизации?

## 1. Уровень 0
ВСе то оборудование автоматизации которое взаимодействиует с нижним тех процессом
Виды утсройств:
* Снимают данные: датчики
* Оказывают влияние:
    * Исполнительные механизмы
    * Средства управляемого электропривода

Чисто информационная функция - решается датчиками
Не просто принять решение, чтобы сделать что-то, а непосредственно повлиять!
Влияние оказывают электрическими вещами, можно менять скорость, момент...
Поскольку измеряемых параметром море, всякая разная промышленность выпускает огромную нуменклатуру
всяких датчиков.

Термопара - измеряет температуру на кончике штыря
С другого конца выходят соответсвующие провода

### Виды датчиков
Чем термопара отличается от термосопротивления?
Используют разные типы контактов
Позицию могут изменять конечные выключатели

Есть конечное положение должен стоять конечный выключатель, блокирующий привод.
Освещенность - лазерные датчики
Чем позиция от перемещения отличается?

Положение отслеживает текущее перемещение (линейное, круговое (крутится) [у двигателей на валу есть encoder - за один оборот encoder возвращает импульс])
Электрические параметры - напряжение, ток, мощность, частота, сопротивление.

Как счетчик газа работает?
Чтобы измерить расход газа нужно знать 3 параметра:
1. Труба, на трубе делается местное сужение, измеряется перепад давления, само давление, а ещё температура - по этим хар-кам мы можем измерить расход газа
2. Газоанализатор. Нужно учитывать отношение газ/воздуз - чтобы его регулировать его надо измерить газаны имеют концентрацию чего-то
Реально газоанализатор может представлять собой шифонер, а есть защитные - индивидуальные датчики

Усилие, вес.
Как устроены весы?
Тензодатчики - если надо измерить 3 кг картошки, то ок, а вот если надо изменрить автомобильные весы, то нужны датчики которые выдерживают несколько тонн


Реально есть много компаний которые выпускают датчики

Штрихкоды?
Как работает оплата без кассира?
По штрихкоду: бывают 2х видов - полоски (1D) или набор точек (2D)
По принципу сканирования линий. SSD-матрица - множество фотодиодов собранных в одну линию.
Лазер постоянно сканирует зеркало и стоит фотодатчик, которые улавливает лучи. Появляется модуляция полосками и фотодатчик распознает штрих-код
Записана там последовательность символов.
QR-коды
Data-матрикс коды
Чем QR-код знаменит? Открывает URL.
В QR-коде просто последовательность символов. Используются для идентификации, наклеить и считать.
Почти во всех QR-кодах заложена избыточность - 50%
Можно оторвать и второй половины будет достаточно чтобы их восстановить
Особенно большие коды - XML документ может быть закодирован как QR

RFID - идентификая через радио
Это теги, у которых есть антена и маленькая схемка. Когда RFID подносят близко к считывающему устройству, у устройства есть излучающая антена
Антена настроена на эту частоту и в итоге в антене наводится напряжение, достаточное для питания микросхемки - она просыпается и обратно излучаает свое излучение
- модулирванное и передатчик слышит сигнал и может его декодировать
В каждом RFID устройстве есть 2 вида информации - уникальный SERIAL ID + область памяти для перепрограммирования. Можно заисать несколько байтов информации
Когда метка попадает в область считывания она делится своей информацией. Есть перезаписываемые области памяти, тогда считывающее устройство может считать инфу
с делящимся устройством

Безконтактные платежи - банк карты, NFC - не нужно напряжение, метка и так проснется от телефона.

Фото/видеокамеры - камеры с видео, до систем с ИИ
Видеоаналитика - системы ИИ приносит реальную пользу

## Интерфейсы датчиков

Для подключения датчика у него должен быть интерфейс

Как устроены датчики?

Есть чувствительный элемент - он выдает некоторый первичный сигнал.
Например, термопара передает очень маленький потенциал - на уровне мкВ.
Это первичный сигнал. Зачастую супер-маленький и его невозможно передать

Рядом с чувствительным элементом ставится первичный преобразователь
Очень маленький, нежный и чувствительный к помехам сигнал преобразовать в более менее надежный

Вторичный сигнал
Вторичный сигнал поступает в цифровой преобразователь
Цифр преоразователь на выходе выдает digital data, а затем поступает в котроллер/вторичный прибор

На вторинчный прибор может выводиться как вторичный так и оцифрованный сигнал.
Вот эти сигналы у каждого датчика индивидуальны

А вот эти сигналы из первичного преобразоватлея уже стандартизованы для подключения разных датчиков

У encoder информацию несут испульсы - частота и кол-во
В электрических счетчиках есть лампа, которая включает и отключает светодиод, когда идет потребление тока.

КИП и А

smart-датчики подключаются не к цепям, а к цтфровым интерфейсам - последовательные линии связи
RS-232 - первичный канал передачи данных
Есть sender, receiver. Между ними линия связи
Передача данных осуществляется путем передачи импульсов.
Импульсы прямоугольные.
есть start, stop, 1, 0
от sender к receiver идет кадрами - порции данных, которые снабжены контрольной суммой
RS-232, RS-485 описывают вид линии, параметры (напряжение, сопротивление и возможные скорости)
Чем длинее линия связи тем меньшая скорость передачи
В RS-485 дифференциальный канал передачи данных

Датчик с какой-то частотой передает отдельные пакеты данных
Один канал в одну, второй канал в другую.
Тогда receiver запрашивал отчет, а датчик его передавал
Каждый пакет содержим измерение в тот момент когда его отправляли

В реальных условиях делать интерфейсы к датчикам неудобно.
Тянуть к датчику пучек проводов не стоит, надо использовать шинную топологию

На шине есть несколько датчиков, которые работают параллельно.
Все это устроено в master-slave топологии

Датчик #8.
Полевая шина - стандарт который доводит технологию до тупого потребительского уровня
Стандарт по rs-485, определяет протоколы по которым устройства обмениваются + определены все
Автоматчики покупают датчик с нужными проводами подключают в шину и все работает

Таких стандартов целая пачка.


## Исполнительные механизмы
