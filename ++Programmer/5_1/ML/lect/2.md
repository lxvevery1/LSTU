# Лекция №2, Подготовка данных

# 1. Подготовка данных I

В качестве исходных данных используются данные с разных источников (грязные)

Чтобы привести их к итоговым наборам данных, используется <u>подготовка данных</u>.

В реальности не существует единого алгоритма для подготовки данных.

Представить все возможные варианты крайне сложно / Когда специалист по анализу данных строит зависимости, у него вырабатывается свой подход.

Процесс может повторяться несколько раз. К этому этапу можно возвращаться / мало данных / низкая адекватность / высокая, но безполезная точность моделей
Это нормально

Шаги этапа:
    1. Отбор данных (Select) - можно вернуться
    2. Очистка данных (Clean) - слишком много/мало выброшенно, можно вернуться
    3. Получение производных данных
    4. Объединенеие данных
    5. Приведение данных к необходимому знаменателю

1.1 Подготовка данных II

3 способа решения задач. Часто используется комбинация при решении задач:
    1) Автоматический. Не всегда стоит доверять
    2) Скриптовый. Формируем исходя из опыта решения задач. Это сформировали мы с применением знаний по формированию исходных данных.
    Подразумевает наличие каких-либо готовых решений. Близок к автоматическому
    3) Ручной. Глядя на данные решаем что с ними делать. Трудоемко с BIG DATA.


# 2. Этапы подготовки данных

1) Отбор данных. Анализ данных и МО использутся как синоним. Это центральный этап для анализа данных
Построение зависимостей.

Включает:
    1. Выбираем признаки для построения моделей.
    2. Выбираем объекты, строки МО.

Критерии: строка/столбец подходит , оставляем

1. Релевантность анализа данных.
2. Качество
3. Технические ограничения

Шаги отбора данных должны быть задокументированны

# 2.1 Очистка данных

Цель - повышение качества данных, с учетом удаления ненужного.
Подходы:

1. Анализ недопустимых значений.
Вещи могут отслеживаться вручную, исходя из представлений. Для каждой выборки нужно определяеть Range значений - от и до.
Плохие нужно исправить или удалить.

Значения по умолчанию
Орфографические ошибки,
устаревшие данные
восстановление пропусков в данных (если пропусков много и они могут существенно повлиять на итоговую модель)
удаление дубликатов
противоречивые данные
аномалии

# 2.2 Очистка данных II

Ящик с усами

Рассчитываются аномалии метоом межквартильного размаха.
IQR - Q3 - Q1

не очень 24%- [ 25% ~ 75% ] 76%+ не очень
значение усов (выбросов) переменно - можно увеличить или уменьшить

# 2.3 Очистка данных III

Рекомендации:
    1. Выбросить данные, исходя из корреляционного анализа, фиксируя корреляционные признаки

# Очистка данных IV

Анализ важности признаков на результат (features importance) - возможен только после построения модели.

# Получение производных данных

В порождение нового показателя - производного данных

Обогащение данных - добавление информации из других источников.


# Получение производных данных II

1. Кодирование категоритальных данных. Могут привести к путанице
binary encoding - признак прнимает (10) различных значений (бинарная маска)
label encoding - признак принимает 1 значение

Суть в невозможности сравнивания binary между собой путем увеличения данных.

one hot encoding - промежуточный вариант.

Стандартизация.

Порядки можно сравнить
Если ЗП 7 000 000, а в другой записи 10 000, выбрасывать ли эту информацию?

логарифмируем -> приводим выбросы к порядку.


# Объединение данных

Из разных источников

Разные БД -> JOIN-запросы

Слияние данных - часто приходится использовать суммирование, усреднение

# Привдение данных к необходимому формату

Не меняет содержание никаким образом
Переформатирование - сначала используем независимые признаки, а затем зависимые
Переименование данных
Удаление ненужных знаков препинания
Преобразование номера телефона к международному
приведение изображений к единому формату
многозначность
Единый формат даты
единицы измерения
сохранение в необходимом формате

# ETL / ELT

Посмотреть самим
