Кэш - промежуточная память, состоящая из буферов (cache size). В этих буферах могут храниться данные.
1. Read cache (есть ли блок в кэше? взять (берем свободный блок; драйвер, прочитай) 
2. Write back (изменили буфер и откладываем запись (**floosh**)) для выполнения floosh в ядре есть псевдо-потоки. 
   **fsync()** - чекпоинт для обновления данных (когда нужно записать данные на диск). Сохранение данных кэша на диск.

Механизм **Page Cache** (**pc**) - набор страничных рамок, которые незаняты. 
**Page Frame** (**pf**) - страничная рамка
Как ОС использует **pc** ?
**Page Table** (**pt**) - по умолчанию содержит всю память, так как туда обращается ядро. Процессу же видны те процессу, которые ему выделены
Anonimous pf - не связаны с каким-либо файлом (нет источника данных на диске)

Как исполняемый код попадает в память процессора? ELF представляет собой файл, в котором записан образ страниц памяти и часто ядро использует механизм отображения. Набор байтов файла можно представить как набор блоков.

Storage backing -> в страничной рамке может хранится содержимое блока с диска.

	Файлы в ОС идентифицируются inode'ами

kswapd - процесс, занимающийся фоновым reclaiment'ом.
Отнятие страничных рамок (eviction) - LRU - отнятие тех страниц, которые дольше всего не использовались.
	Все страницы выстраиваются в очередь, когда происходит обращение к какой-нибудь странице, то страница помещается на вверх очереди. Из 'хвоста' очереди можно отнять clear страницу, то есть исключить из тех map'ингов в которых она используется. Если страницы 'dirty', то её нужно перезаписать, а затем исключить.
Как только количество страничных рамок падает ниже watermark, kswapd выделит новые рамки.

Как отнять анонимную страницу? Для этого существует swapfile. Если есть swapfile, то в страничной рамке назначается какой-либо блок. Содержание страницы попадает в swapfile, когда в reclaiment попадет её адрес.

Когда процессор хочет прочитать блок с диска, то морозится, когда выделяется ему pageframe -> памяти не хватает и система пытается хоть как-то работать.