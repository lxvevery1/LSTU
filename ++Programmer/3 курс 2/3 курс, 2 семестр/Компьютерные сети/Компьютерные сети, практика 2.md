вес пакета/время передачи [кб/сек]

Начнем знакомство с решением ИДЗ 2:
![](https://sun9-37.userapi.com/impg/dGRMMh9Sk9nrwcUxBkaWSsVX8-Cr3jX83lrERQ/8WJB6xHB0K0.jpg?size=1620x2160&quality=95&sign=cc48fba32bb47de82b8d5662f816b910&type=album)
Имеем одну интерсеть и 6 узлов + 1 net, 8 интерфейсов и 3 звена.
локальные адреса -> 192.168.X.X
A: **192.168**.252.0/24
B: **192.168**.253.0/24
C: 
Нарисуем таблицу маршрутизации для узла:
Dest                       | type | if     | Next-hop
 n1
192.168.254.2/32   local    ser0
192.168.252.1/32   local    eth0
192.168.252.0/24   U         eth0
192.168.254.2/32   UH      ser0
192.168.253.0/24   UG      eth0  192.168.252.3
0.0.0.0                      UG      ser0   192.168.242.2
___________________________________
n3:
192.168.252.3/32   local   eth0
192.168.253.1/32   local   eth1
192.168.252.0/24   U         eth0
192.168.253.0/24   U         eth1
	Сейчас мы не знаем какому интерфейсу присвоить пакет, но зато мы знаем какому точно не присвоить, для этого делаем следующее
0.0.0.0/0                  UG       eth1  192.168.252.1

есть 192.168.253.1, куда его? Смотрим слайд #51 акс-2018.pdf, там указывается что нужно отметить охватывающие адреса из таблицы маршрутов. По длине префикса ip модуль отсеивает большие префиксы, и оставляет тот, которым он больше подходит.
1

	Когда if = ser0, а когда = eth0?
узел n1 ведь ничего не знает про сеть. 

	UG - косвенный маршрут
	UH - прямой маршрут (сосед, двухточечное звено)
	U  - прямой маршрут (многоточечное звено)


Как формируется имя у if?
У каждого звена есть драйвер, есть одноточечные , многоточечные. Имя иф указывается его типом (eth/ser)
Что означает строка таблица?
Каждая строка - это действие, которое будет произведено с конечным пакетом.
Четыре действия: 
1. inbound (пакет пришел в место назначения)

Что делать, если пришел пакет, dest которого 192.168.252.1?



## Протокольный стек
узел - контейнер внутри которого живут актеры
этот узел содержит несколько if - это тоже контейнер - if ser0, if eth0, if lo0
ip взаимодействует со всеми if. 
ARP протокол - определяет mac-address и взаимодействует с eth протоколом
ICMP взаимодейсвует с IP
Это и есть протокольный стек.
![](https://sun9-3.userapi.com/impg/1wLQv3aBTza1eE79CzhvTfyzojWEK80hbk0Fcg/fTQLGHZNR0g.jpg?size=1620x2160&quality=95&sign=cf46f1f50762ec19527a01500037ec36&type=album)
Физический модуль - преобразование между битами и сигналами (на каждый разъем свой физ. модуль). Каждый интерфейс ассоциирован с канальным модулем - кто-то с ppp, кто-то с eth. Внутри узла n1 живут 5 модулей.